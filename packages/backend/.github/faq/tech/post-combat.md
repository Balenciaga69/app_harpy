# Post Combat (戰後流程)

- 前端請求後端驗算驗證完, 取得戰鬥結果後
- 將會透過不同處理器處理戰鬥結果
- 生成兩種不同結果狀態上下文儲存至DB後派發至前端
- 將有兩種結果:
  - 戰敗
  - 戰勝
- 接著觸發掛載事件, (來自其他系統塞入的事件)

## 戰勝會發生什麼?

- 會有一個 戰勝處理器 被觸發
- 獎勵生成器
  - 跟去上下文生成不同的 item, gold 等等 (獎勵類型)
  - 玩家可以從兩組中選擇一組獎勵
- 選擇後
  - 將獎勵入庫同時切換 Run 狀態至 DB

## 戰敗會發生什麼?

- 會有一個 戰敗處理器 被觸發
- 如果是 ELITE or NORMAL 戰敗 -1 次失敗重試機會
- 如果是 BOSS 戰敗, 直接結束 Run
- 如果是 Endless, 直接結束 Run
