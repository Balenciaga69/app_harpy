# Shop

- 商店系統管理遊戲內的商店
- 他本身也有一個上下文
- 商店本身固定販賣 6 格物品(6 是變數, 但目前寫死)

# 與玩家交互

- 買入
- 賣出

## 商店系統由甚麼組成?

- 包含買入與賣出的行為互動
- 與生成物品、價格判斷系統等模組合作

## 關於賣甚麼商品

- 商店會隨著遊戲進程解鎖更多物品, (這其實是物品生成限制表實現的)
- 這由物品生成系統決定, 商店會表明自己是商店, 物品系統會去查表決定哪些東西是商店能賣的
- 物品的稀有度也是來自生成表 src\domain\item\roll 裡面有定義

## 關於價格

- 物品價格公式系統也很簡單, 稀有度, 難度係數, 來源(買/賣) 決定
- 會有特價標誌影響價格, 每次商店刷新, 第一格是特價品, 將會打 8 折出售 (8 是變數, 目前寫死)

## 常見問題

### 如何添加新商店類型？
在配置數據中添加新類型ID，並設定相關參數，如格子數量或價格規則。這樣可以擴展不同風格的商店。

### 價格公式如何調整？
修改配置中的折扣率、難度倍數或稀有度價格表。可以根據遊戲平衡需求微調買賣價格。

### 商店格子數量如何改變？
調整配置中的格子數量設定。增加或減少可以影響商店的豐富度。

### 如何添加新折扣機制？
在刷新邏輯中加入額外規則，例如隨機選取物品打折，或根據玩家狀態提供特殊優惠。

### 商店如何與其他系統整合？
商店通過共享上下文與物品生成、角色管理和倉庫系統合作，確保交易的流暢性和一致性。
