# item（物品）通用問答

## item 是什麼

- item（物品）是遊戲中可獲得的裝備或遺物
- 目前僅有遺物類型
- 物品擁有稀有度、標籤、詞綴（affix）、負載值
- 物品生成時會根據難度係數調整強度

## 如何獲得 item

- 商店購買
- 關卡獎勵
- 事件獲得

## item 有哪些特性

- 遺物可堆疊，有堆疊上限
- 某些遺物屬於消耗品，裝備後觸發一次性效果
- 物品的稀有度會影響詞綴數量與出現機率

## item 生成流程

- 先決定物品類型
- 再決定稀有度
- 根據權重選擇具體物品
- 檢查是否重複或超過堆疊上限
- 生成最終物品

## item 設計思路

- 有 POE 式與 LOL 式兩種設計方向
- POE 強調組合與隨機性
- LOL 強調固定效果與預期性

# item 給設計師

## 如何設計 item

- 以外部表格維護物品模板（ItemTemplate）與概率分布
- 每個物品的詞綴固定，不隨機生成
- 稀有度決定詞綴數量與出現機率
- 靜態概率表定義物品類型與稀有度分布，內容固定
- 動態權重可根據玩家狀態自動調整
- 可設置物品生成限制，例如某些物品僅在特定章節出現

## item 設計注意事項

- 物品不設等級，僅受難度係數影響
- 消耗品可設計為觸發特殊效果後刪除
- 可設計任務物品、高階物品、垃圾道具等生成條件

## 設計思路對比

- POE 式：基底、稀有度、隨機詞綴、插槽、技能寶石，強調組合
- LOL 式：固定裝備、固定屬性、固定效果、可合成，強調預期

# item 給工程師

## 技術細節

- ItemTemplate（物品模板）定義物品靜態資料，包括名稱、稀有度、詞綴
- ItemInstance（物品實例）代表生成後的物品，包含難度係數計算結果
- Relic（遺物）為唯一物品類型，支援堆疊與堆疊上限
- 物品生成時，根據 RunContext 動態調整權重
- 生成流程需檢查排他條件與堆疊上限
- 靜態哈希表記錄生成限制條件，未列入者無限制

## 生成流程技術步驟

- 依據靜態概率表決定物品類型與稀有度
- 依據動態權重調整最終選擇
- 生成 ItemInstance，套用難度係數
- 檢查重複、堆疊上限、排他條件
- 返回最終物品資料

## 物品限制與條件

- 任務物品僅在任務中生成
- 高階物品僅在第三章後生成
- 垃圾道具僅在第一章生成
