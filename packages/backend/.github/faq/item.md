# Item, Equipment, Relic

## 什麼是物品與遺物

- Item (物品)
  - 遺物的基底
  - 有稀有度, 固定模板, 標籤類型, 詞綴, 負載值
  - 生成時受難度係數影響, 但沒有等級概念
- Relic (遺物)
  - 目前唯一的物品類型
  - 可堆疊, 有堆疊上限
  - 設計為可疊加的小功能或單一強力效果

## 消耗品

- 某些遺物裝備後觸發一次性效果, 使用後刪除
- 範例
  - 技能石:替換玩家的大絕招
  - 煥然一新:刷新所有遺物和大絕招的難度係數

## 如何獲取物品

- 商店
- 關卡獎勵
- 事件

## 物品如何設計

- 設計師創建物品模板, 包含名稱, 稀有度, 詞綴
- 每個物品的詞綴固定, 非隨機生成

## 關於稀有度

- 與難度強度無關
- 影響詞綴數量和生成機率分布
- 詞綴數量
  - Common:1 個
  - Uncommon:2 個
  - Epic:3 個
  - Legendary:1-3 個獨特詞綴

## 物品生成

### 靜態概率表

- 設計師維護的外部表格
- 定義物品類型, 稀有度等的概率分布
- 內容固定, 不隨遊戲進度改變

### 動態概率調整

- 修飾符來自玩家的 RunContext
- 包含 tags/templateId, weight multiplier, duration/permanent
- 自動添加隨遊戲進度推進
- 動態運算在每輪生成前進行

### 生成流程

- 決定物品類型
- 決定稀有度
- 根據權重選擇具體物品
- 檢查排他條件 (重複, 堆疊上限等)
- 生成最終物品
- 範例:商店刷新時結合靜態分布與動態權重
  - 擁有多的遺物生成機率增加
  - 毒標籤物品多時, 毒屬性生成權重增加
  - 堆疊上限達到時直接排除

### 物品限制表

- 靜態哈希表記錄生成限制條件
- 物品不在表中則無限制
- 常見限制
  - 任務物品僅在任務中生成
  - 高階物品僅在第三章後生成
  - 垃圾道具僅在第一章生成

## 設計思路對比

### POE 式

- 基底, 稀有度, 隨機詞綴, 插槽, 技能寶石
- 強調無限組合與獨特性

### LOL 式

- 固定裝備, 固定屬性, 固定效果, 可合成
- 強調效果可預期與快速決策
