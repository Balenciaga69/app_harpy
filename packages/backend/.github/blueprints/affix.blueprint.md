## Affix

- 將所有詞綴（無論是敵人、裝備或技能來源）歸結為一套核心介面 IAffixTemplate
- 它扮演著連接裝備、異常狀態、戰鬥事件與角色屬性的核心機制。
- 傷害計算、屬性聚合、事件監聽註冊 等核心邏輯，只需要一套處理服務 。
- 透過增加特定的 TAGs 來區分來源和限制，而不是為每個來源建立一個獨立的類別。標籤決定了該詞綴可以在哪個詞綴池表 中出現，以及物品生成系統 在生成時是否會篩選它。
- 所有的詞綴定義（Affix Table） 只需要存放在一個集中的數據源中，減少了資料同步和維護的複雜性。
- 警告:如果沒有嚴格遵循架構規範，統一模板的設計可能會導致標籤 (TAGs) 濫用與失控、為了容納所有詞綴類型模板介面會不斷增加選填屬性最終變成一個龐大且難以閱讀的「萬能介面」。
- 所有的 Affixes 最終都會在戰鬥的 Tick 處理流程 中聚合、觸發 。由於它們都來自同一個介面，如果 日誌系統 (Logging System) 設計不佳，很難快速分辨是「敵人模板的詞綴」還是「玩家裝備的詞綴」觸發了效果。

## 誰關心 Affix

- 大絕招寶石 (Ultimate Gem) 是由詞綴 組合
- 物品、裝備、遺物 是詞綴的主要載體
- 詞綴可以指定執行行為
- 在無盡模式模式下，敵人會加入僅此階段出現的特殊 Affixes
- 詞綴生成系統 ：從詞綴池表 (Affix Pool Table) 中，根據 Weight 抽出並 Roll 數值，然後將詞綴塞到 Item Instance。
- 沒有 Affixes 就做不出任何 物品、裝備、遺物、敵人、絕招、賽前變數等等

## 誰用了 Modifier

- 角色與敵人都是 Unit 類型 。角色的成長和敵人數值都是透過裝備/遺物/模板上的詞綴聚合而成。
- 賽前變數的效果會以狀態實例或屬性修飾符的形式注入，這本質上是動態賦予了類似詞綴的短暫效果。
