## 商店（Shop）

### 主要功能

- 購買
  - 玩家可從商店購買物品
  - 觸發金幣扣除、物品加入倉庫等系統
- 出售
  - 玩家可將物品賣給商店
  - 出售後獲得金幣，物品從倉庫移除
- 商店刷新
  - 可定時或手動刷新，產生新物品列表
  - 刷新可能需消耗資源或金幣
- 狀態管理
  - 維護當前物品列表與狀態（已購買、已售出、可刷新等）
- 定價系統
  - 每個物品有基礎價格
  - 隨難度提升，價格根據係數增加
  - 支援特價活動，部分物品可臨時降價
- 特價與促銷
  - 可針對特定物品特價，明顯標示吸引購買
- 物品生成器
  - 商店為物品生成器主要調用者
  - 每次刷新/初始化時請求生成新物品

### 商店不負責的內容

- 金幣管理
  - 不直接管理玩家金幣，金幣增減由其他系統處理
- 倉庫操作
  - 不直接操作玩家倉庫，物品存取與移動由倉庫系統負責

## 子系統：商店交易系統（Trade System）

- 交易協調
  - 買賣行為涉及：商店生成物品、倉庫存取、金幣更新
- 防腐層（ACL）
  - 交易系統作為防腐層，保護核心邏輯不受外部變動影響
  - 買賣規則變更時僅需修改交易系統
- 交易流程
  - 玩家發起買賣請求
  - 交易系統協調金幣、倉庫、商店三方操作
  - 完成交易後回饋結果給玩家

## 前端視覺上

- 商店的刷新本身要像是 Roulette 旋轉調出的結果，很酷炫，但後端沒變
