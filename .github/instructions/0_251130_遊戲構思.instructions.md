## 簡介

- 這是我在 2025/11/30 構思的內容基於上一版的新想法
- 同時我也已經打好 combat 骨架了

## 關於戰鬥邏輯改動 (我不確定有沒有改完)

- 我沒打算做 元素傷害規則了。這對玩家運算負擔偏大
- 我們發出攻擊就分成兩種，攻擊／大招。
- 異常狀態依然保留(聖火、燃燒、中毒、充能等)，但不會綁定元素屬性
- cooldown 指的是攻擊得等待時間，單位是 tick
- 我想新增一條能量條，是透過攻擊或者某些方式來累積能量
- 能量條滿了就能釋放大招(大招是沒有 cooldown 的)
- 有些特定裝備或角色本身還會有 rage 等等這個比較複雜，但我想預留
- 這依然是款單機遊戲，但我可能會有召喚物陪同戰鬥，這個就比較複雜，也要考慮到
- 閃避與減免保留，但不能照搬 POE 的機制或公式。必須想出一套合理簡單的公式
- 我們不用管這個攻擊是來自 武器／法術，沒有所謂的法術傷害／毒傷害／火傷害等等，一律都是純粹傷害
- effect.Implementation 其實我比較不擔心，因為這個隨時可以任意改動。畢竟還沒正式上線。
- damage.event.model 與 ability 整個內部 我認為會是動刀最嚴重的
- AttackType 這東西我感覺沒用了，可以砍掉 (我沒有法術也沒有元素傷害機制)
- 但我需要一個東西叫做 真實傷害 True Damage 這是可以無視任何減免的傷害
- DamageEvent.tags 標記這招用途我還想不到該怎麼用，可以先刪除
- DamageEvent isHit 跟 evaded 我不太懂差別，沒擊中 不就等於 被閃避了?
- DamageEvent damages 然後現在傷害只會來自單一來源，要馬是 普通攻擊 要馬就是 True Damage 不需要再分什麼元素傷害了，你可以加個屬性 isTrueDamage 就好
- 我的聖火、中毒、冰緩、充能等異常 會重新構思 所以 Effect 那一塊 可能會需要重寫
- 能量這種東西，是不能固定每次攻擊 gainEnergy + 10
  - 他是來自角色屬性:能量攻擊獲取值
  - 以及每 100 tick 1 點 自然回復 (當然我不滿意我也會去配置修改到測試滿意)
- 大招不見得是傷害技能(可以想成是種策略)，每個人都不一樣。所以你得 Ability 也需要注意這點

## 關於分層的見解

- 我認為分層是基於依賴，下層不該依賴上層
- 我想到的是 infra,context,domain,logic,coordination,combat-engine

## 關於遊戲開發

- 會被切成兩大區塊，邏輯與UI
- 邏輯需要遵循無視語言，應該是個可以被任何語言與框架實現的代碼
- 邏輯又分成戰鬥內(combat), 戰鬥外(側重流程與遊戲管理)兩套系統，各自都可以將對方mock後獨立運作
- 目前階段其實專注於戰鬥機制的實現而已，遊戲機制我還很混亂，畢竟我不是遊戲製作專業者
- 目前我們專注於打磨 combat
